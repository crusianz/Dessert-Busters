fileFormatVersion: 2
guid: e96192340781a8847a057101cc86bb74
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nconst UnityEngine_1 = require(\"UnityEngine\");\r\nconst
    UnityEngine_UI_1 = require(\"UnityEngine.UI\");\r\nconst ZEPETO_Script_1 = require(\"ZEPETO.Script\");\r\nconst
    GameManager_1 = require(\"./GameManager\");\r\nclass Block extends ZEPETO_Script_1.ZepetoScriptBehaviour
    {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.isSelected
    = false;\r\n    }\r\n    Start() {\r\n        this.render = this.transform.GetChild(0).GetComponent($typeof(UnityEngine_1.Renderer));\r\n       
    this.mpb = new UnityEngine_1.MaterialPropertyBlock();\r\n        this.anim =
    this.gameObject.GetComponent($typeof(UnityEngine_1.Animator));\r\n        this.col
    = this.GetComponent($typeof(UnityEngine_1.BoxCollider));\r\n        this.GM =
    UnityEngine_1.GameObject.FindGameObjectWithTag(\"MainCamera\").GetComponent($typeof(GameManager_1.default));\r\n       
    this.hp_t = this.gameObject.GetComponentInChildren($typeof(UnityEngine_UI_1.Text));\r\n       
    this.hp = this.GM.layer;\r\n        this.GM.Breaking.AddListener((amount) =>
    (this.SkillDamage(amount)));\r\n        this.GM.Select.AddListener(() => (this.SelectInit()));\r\n   
    }\r\n    Update() {\r\n        if (this.gameObject.transform.position.y < -9
    && !this.GM.gameOver) {\r\n            this.GM.GameOver.Invoke();\r\n       
    }\r\n        if (this.anim == null)\r\n            this.anim = this.gameObject.GetComponent($typeof(UnityEngine_1.Animator));\r\n       
    if (this.isSelected)\r\n            this.mpb.SetColor(\"_Color\", new UnityEngine_1.Color(105,
    105, 255, 255));\r\n        else\r\n            this.mpb.SetColor(\"_Color\",
    new UnityEngine_1.Color(255, 0, 255, 255));\r\n        if (this.hp <= 0) {\r\n           
    UnityEngine_1.Object.Instantiate(this.particle[this.type], this.transform.position,
    UnityEngine_1.Quaternion.Euler(90, 0, 0));\r\n            this.col.enabled =
    false;\r\n        }\r\n        else\r\n            this.col.enabled = true;\r\n       
    this.hp_t.text = String(this.hp);\r\n    }\r\n    SelectInit() {\r\n        this.isSelected
    = false;\r\n    }\r\n    SkillDamage(amount) {\r\n        if (this.isSelected)
    {\r\n            this.anim.SetTrigger(\"Hit\");\r\n            if (this.hp <
    amount)\r\n                this.hp -= this.hp;\r\n            else\r\n               
    this.hp -= amount;\r\n        }\r\n    }\r\n    Death() {\r\n        if (this.hp
    <= 0) {\r\n            this.GM.ScoreUp.Invoke(0);\r\n            UnityEngine_1.GameObject.Destroy(this.gameObject);\r\n       
    }\r\n    }\r\n    OnTriggerEnter(coll) {\r\n        if (coll.CompareTag(\"Ball\"))
    {\r\n            this.hp--;\r\n            this.anim.SetTrigger(\"Hit\");\r\n       
    }\r\n    }\r\n    OnTriggerStay(coll) {\r\n        console.log(coll.tag);\r\n       
    if (coll.CompareTag(\"Select\")) {\r\n            this.isSelected = true;\r\n       
    }\r\n    }\r\n}\r\nexports.default = Block;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQmxvY2suanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJCbG9jay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLDZDQUF1SjtBQUV2SixtREFBbUM7QUFDbkMsaURBQXFEO0FBQ3JELCtDQUF1QztBQUV2QyxNQUFxQixLQUFNLFNBQVEscUNBQXFCO0lBQXhEOztRQUdXLGVBQVUsR0FBUyxLQUFLLENBQUE7SUFpRm5DLENBQUM7SUF2RUcsS0FBSztRQUNELElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxTQUFDLHNCQUFRLEVBQUcsQ0FBQTtRQUNqRSxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksbUNBQXFCLEVBQUUsQ0FBQTtRQUN0QyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxTQUFDLHNCQUFRLEVBQUcsQ0FBQTtRQUNwRCxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxZQUFZLFNBQUMseUJBQVcsRUFBRyxDQUFBO1FBQzNDLElBQUksQ0FBQyxFQUFFLEdBQUcsd0JBQVUsQ0FBQyxxQkFBcUIsQ0FBQyxZQUFZLENBQUMsQ0FBQyxZQUFZLFNBQUMscUJBQVcsRUFBRyxDQUFBO1FBQ3BGLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxzQkFBc0IsU0FBQyxxQkFBSSxFQUFHLENBQUE7UUFDMUQsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQTtRQUN2QixJQUFJLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxNQUFNLEVBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDbEUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUUs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","assetPath":"Assets/01.Scripts/Block.ts","manifest":{"properties":[{"assembly":"UnityEngine.UI","name":"hp_t","type":"UnityEngine.UI.Text","isArray":false,"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"mscorlib","name":"isSelected","type":"System.Boolean","isArray":false,"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"particle","type":"UnityEngine.GameObject[]","isArray":true,"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"mscorlib","name":"type","type":"System.Int32","isArray":false,"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"render","type":"UnityEngine.Renderer","isArray":false,"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"mpb","type":"UnityEngine.MaterialPropertyBlock","isArray":false,"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"mscorlib","name":"hp","type":"System.Int32","isArray":false,"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"","name":"GM","type":"C:/Users/huhsungeun/Documents/GitHub/Dessert-Busters/Assets/01.Scripts/GameManager.default","isArray":false,"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.AnimationModule","name":"anim","type":"UnityEngine.Animator","isArray":false,"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.PhysicsModule","name":"col","type":"UnityEngine.BoxCollider","isArray":false,"enumKeys":[],"enumValues":[],"attributes":[]}],"name":"Block","description":""},"isCompiled":true}'
  typescriptHash: 7776e976b52dd8c9474788d6fc0d99f0
